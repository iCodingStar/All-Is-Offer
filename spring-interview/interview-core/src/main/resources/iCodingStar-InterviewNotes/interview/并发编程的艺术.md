# 并发编程的艺术

## 并发编程的挑战

### 上下文切换
- CPU通过时间片算法循环执行任务，任务之间切换需要保存上一个任务状态，这就是上下文切换。

#### 多线程一定快吗？
- 由于上下文切换，因而多线程不一定比单线程效率高。

#### 测试上下文切换次数和时长
- 切换时长测试：Lmbench3
- 切换次数测试：vmstat(每秒1000多次)

#### 如何减少上下文切换
- 无锁并发编程：多线程竞争锁会引起上下文切换
- CAS算法：
- 使用最小线程：
- 协程：
#### 减少上下文切换实战
